(()=>{var e={567:()=>{window.popbot.comparisons=[{id:"equal",label:"Equals",compare:function(e,t){return e==t}},{id:"not-equal",label:"Not equals",compare:function(e,t){return e!=t}},{id:"greater-than",label:"Greater Than",compare:function(e,t){return parseFloat(e)>parseFloat(t)}},{id:"less-than",label:"Less Than",compare:function(e,t){return parseFloat(e)<parseFloat(t)}},{id:"contains",label:"Contains",compare:function(e,t){return e.includes(t)}},{id:"not-contains",label:"Doesn't Contain",compare:function(e,t){return!t.includes(e)}}]},878:()=>{window.popbot.triggers=[{id:"click",label:"Click Element",icon:"ads_click",category:"Engagement",color:"#85A700",options:[{placeholder:"#id",label:"Element Selector"}],setupTrigger:function(e,t){window.addEventListener("click",(o=>{if(t&&!o.target.matches(t)&&!o.target.closest(t))return!1;e.pop()}))}},{id:"exit_intent",label:"Go to Exit",icon:"meeting_room",category:"Engagement",color:"#85A700",setupTrigger:function(e){document.addEventListener("mouseout",(t=>{t.toElement||t.relatedTarget||e.pop()}))}},{id:"scroll",label:"Scroll Depth",icon:"open_with",category:"Engagement",color:"#85A700",options:[{placeholder:75,type:"number",label:"Scroll Depth"}],setupTrigger:function(e,t){window.addEventListener("scroll",(o=>{const i=window.scrollY/(document.body.scrollHeight-window.innerHeight)*100;if(t&&i<t)return!1;e.pop()}))}},{id:"submit",label:"Form Submission",icon:"playlist_add_check",category:"Engagement",color:"#85A700",options:[{placeholder:"#id",label:"Form Selector"}],setupTrigger:function(e,t){window.addEventListener("submit",(o=>{if(t&&!o.submitter.matches(t))return!1;e.pop()}))}},{id:"instant",label:"Instant",icon:"bolt",category:"Time",color:"#1E92F8",setupTrigger:function(e){e.pop(),setTimeout((()=>e.pop()),window.popbot.config.timeBeforeFirstPopup+1)}},{id:"idle",label:"Idle Time",icon:"hourglass_bottom",category:"Time",color:"#1E92F8",options:[{placeholder:30,type:"number",label:"Idle Duration"}],setupTrigger:function(e,t){let o;function i(i){clearTimeout(o),o=setTimeout((()=>{e.pop()}),1e3*t)}["mousedown","mousemove","keydown","click","scroll","touchstart"].forEach((function(e){document.addEventListener(e,i,!0)}))}},{id:"duration",label:"Time on Page",icon:"schedule",category:"Time",color:"#1E92F8",options:[{placeholder:60,type:"number",label:"Duration Time"}],setupTrigger:function(e,t){setTimeout((()=>{e.pop()}),1e3*t)}},{id:"event",label:"JavaScript Event",icon:"code",category:"Other",color:"#F8A11E",options:[{placeholder:"click",label:"Event Type"}],setupTrigger:function(e,t){window.addEventListener(t,(t=>{e.pop()}))}}]}},t={};function o(i){var n=t[i];if(void 0!==n)return n.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,o),s.exports}(()=>{"use strict";const e={store:[],popAttempt(e,t,o){let i={bot:e,success:t,message:o};this.store.push({type:"popAttempt",time:Date.now(),data:i});const n=new CustomEvent("popbot-debug",{bubbles:!0,detail:i});e.element.dispatchEvent(n)}},t=async function(e,t={},o="GET"){let i=new URL(`${window.popbot.home_url}/wp-json/${e}`),n={method:o,headers:new Headers({"X-WP-Nonce":window.popbot.rest_nonce})};if("GET"==o)for(const e in t)i.searchParams.append(e,t[e]);else t instanceof FormData?n.body=t:(n.headers.append("Content-Type","application/json"),n.body=JSON.stringify(t));return await fetch(i.href,n).then((e=>e.json()))},i=function(e){for(var t=document.cookie.split(";"),o=0;o<t.length;o++){var i=t[o].split("=");if(e==i[0].trim())return decodeURIComponent(i[1])}return null},n=function(e,t){var o=e+"="+encodeURIComponent(t)+";path=/;expires=max-age";document.cookie=o};o(878),window.popbot.conditions=[{id:"url.href",label:"Full URL",category:"URL",value:window.location.href},{id:"url.pathname",label:"Path",category:"URL",value:window.location.pathname},{id:"url.host",label:"Domain",category:"URL",value:window.location.host},{id:"url.hash",label:"Hash",category:"URL",value:window.location.hash},{id:"url.search",label:"Query Params",category:"URL",value:window.location.search},{id:"url.protocol",label:"Protocol",category:"URL",value:window.location.protocol},{id:"user.device.isMobile",label:"Is Mobile",category:"Device",value:navigator.userAgentData.mobile?1:0,options:[{id:"0",label:"False"},{id:"1",label:"True"}]},{id:"user.device.lang",label:"Language Code",category:"Device",value:navigator.language},{id:"user.device.os",label:"Operating System",category:"Device",value:navigator.userAgentData.platform},{id:"user.journey.referrer",label:"Referrer",category:"User Journey",value:i("popBot_journey_referrer")},{id:"user.journey.returning",label:"Is Returning",category:"User Journey",value:i("popBot_journey_returning"),options:[{id:"0",label:"False"},{id:"1",label:"True"}]},{id:"user.journey.landing",label:"Is First Page",category:"User Journey",value:i("popBot_journey_landing"),options:[{id:"0",label:"False"},{id:"1",label:"True"}]},{id:"user.journey.pageCount",label:"Pages Count",category:"User Journey",value:i("popBot_journey_pageCount")},{id:"post.isFrontPage",label:"Is Front Page",category:"Post",value:window.popbot.serverConditions["post.isFrontPage"]?1:0,options:[{id:"0",label:"False"},{id:"1",label:"True"}]},{id:"post.ID",label:"Post ID",category:"Post",value:window.popbot.serverConditions["post.ID"]},{id:"post.title",label:"Title",category:"Post",value:window.popbot.serverConditions["post.title"]},{id:"post.type",label:"Post Type",category:"Post",value:window.popbot.serverConditions["post.type"]},{id:"post.author",label:"Author",category:"Post",value:window.popbot.serverConditions["post.author"]},{id:"date.time",label:"Unix Time",category:"Time",value:window.popbot.serverConditions["date.time"]},{id:"date.dayOfWeek",label:"Day of the Week",category:"Time",value:window.popbot.serverConditions["date.dayOfWeek"]},{id:"date.date",label:"Date",category:"Time",value:window.popbot.serverConditions["date.date"]},{id:"date.month",label:"Month",category:"Time",value:window.popbot.serverConditions["date.month"]},{id:"date.year",label:"Year",category:"Time",value:window.popbot.serverConditions["date.year"]},{id:"user.wp.isLoggedIn",label:"Is Logged In",category:"WordPress User",value:window.popbot.serverConditions["user.wp.isLoggedIn"]?1:0,options:[{id:"0",label:"False"},{id:"1",label:"True"}]},{id:"user.wp.login",label:"Username",category:"WordPress User",value:window.popbot.serverConditions["user.wp.login"]},{id:"user.wp.roles",label:"Roles",category:"WordPress User",value:window.popbot.serverConditions["user.wp.roles"]},{id:"math.random",label:"Random Number",category:"Maths",value:Math.floor(100*Math.random())}],o(567);class s{constructor(){this.lastShown=0,this.loadTime=Date.now(),this.store=[]}get(e){for(const t of this.store)if(t.ID==e)return t;return!1}isShowing(){for(const e of this.store)if(e.showing)return!0;return!1}create(e){let t=new r(e);return this.add(t),t}add(e){e.setManager(this),this.store.push(e)}}class r{constructor(e){if(!e)return!1;var t=document.getElementById(e.id);if(!t)return!1;this.id=e.id,this.opts=e,this.cookie=`popBot_status_${this.id}`,this.element=t,this.trigger=e.trigger,this.conditions=e.conditions,this.inline=this.element.classList.contains("popbot-inline"),this.manager=!1,this.triggerObject=window.popbot.triggers.find((e=>e.id==this.trigger.trigger)),this.triggerObject?.setupTrigger(this,this.trigger.threshold),this.element.popBot=this,this.element.addEventListener("click",(e=>{const t="[data-popbot='dismiss']",o="a, btn, [data-popbot='convert']";e.target.matches(t)||e.target.closest(t)?this.dismiss():(e.target.matches(o)||e.target.closest(o))&&this.convert()}))}setManager(e){this.manager=e}_conditionsMet(){for(const t of this.conditions){const o=window.popbot.comparisons.find((e=>e.id===t.comparison)),i=window.popbot.conditions.find((e=>e.id===t.condition));if(!o||!i)continue;const n=i.value,s=t.value;if(!o.compare(n,s))return e.popAttempt(this,!1,`Condition not met (${i.label} ${o.label.toLowerCase()} '${s}', '${n}' given).`),!1}return!0}pop(){return!(this.showing||(!i(this.cookie)||window.popbot.config.allowReshow&&"shown"==i(this.cookie)?this.manager.isShowing()&&!this.inline?(e.popAttempt(this,!1,"A PopBot is already showing."),1):Date.now()-this.manager.loadTime<window.popbot.config.timeBeforeFirstPopup&&!this.inline?(e.popAttempt(this,!1,"Not long enough since page load."),1):Date.now()-this.manager.lastShown<window.popbot.config.timeBetweenPopups&&!this.inline?(e.popAttempt(this,!1,"Not long enough since last PopBot."),1):!this._conditionsMet()||(this._show(),0):(e.popAttempt(this,!1,"This PopBot has already shown."),1)))}_show(){this.element.hidden=!1,this.element.inert=!1,this.showing=!0,this.element.classList.add("entering"),setTimeout((()=>{this.element.classList.remove("entering")}),500),n(this.cookie,"shown"),e.popAttempt(this,!0,"PopBot now showing!");const o=new CustomEvent("popBotShow",this._getEventOptions());this.element.dispatchEvent(o),t("/popbot/v1/analytics",{event_type:"shown",uuid:this.id,url:location.href},"POST")}_hide(){this.manager.lastShown=Date.now(),this.element.classList.add("leaving"),setTimeout((()=>{this.element.classList.remove("leaving"),this.element.hidden=!0,this.element.inert=!0,this.showing=!1}),500)}_getEventOptions(){return{bubbles:!0,details:{id:this.id,element:this.element}}}convert(){this._hide(),n(this.cookie,"converted"),t("/popbot/v1/analytics",{event_type:"converted",uuid:this.id,url:location.href},"POST"),e.popAttempt(this,!1,"Converted on by user.");const o=new CustomEvent("popBotConvert",this._getEventOptions());this.element.dispatchEvent(o)}dismiss(){this._hide(),n(this.cookie,"dismissed"),t("/popbot/v1/analytics",{event_type:"dismissed",uuid:this.id,url:location.href},"POST"),e.popAttempt(this,!1,"Dismissed by user.");const o=new CustomEvent("popBotDismiss",this._getEventOptions());this.element.dispatchEvent(o)}}window.api=t,(()=>{if(window.popbot.manager=new s,window.popbot.bots)for(const e of window.popbot.bots)try{window.popbot.manager.create(e)}catch(e){console.error(null,e)}(async()=>{window.popbot.conditions=window.popbot.conditions||[];const e=await t("/popbot/v1/custom-conditions/");window.popbot.conditions=window.popbot.conditions.filter((e=>"Custom"!==e.category));for(const t of e)try{let e=new Function(t.callback);window.popbot.conditions.push({category:"Custom",id:`custom.${t.id}`,label:t.title,value:e()})}catch(e){console.error(e)}})()})()})()})();